# Análise e Tratamento de Correlações e Colinearidade

| Tipo/Cenário | Métodos de Detecção | Métricas e Limiares | Técnicas de Tratamento | Impacto nos Modelos | Observações |
|--------------|---------------------|---------------------|------------------------|----------------------|-------------|
| **Correlação Linear** | • Coeficiente de Pearson Gráfico de dispersão Heatmap de correlação | • |r| > 0.7 (forte) 0.3 < |r| < 0.7 (moderada) |r| < 0.3 (fraca) | • Seleção de features Remoção de uma das variáveis Criação de indicadores compostos | • Inflação de variância Instabilidade nos coeficientes Problemas de interpretabilidade | Identifica apenas relações lineares; comum em dados financeiros, socioeconômicos |
| **Correlação Não-Linear** | • Coeficiente de Spearman Tau de Kendall Razão de correlação (η) Gráficos de dispersão com suavização | • Valores similares aos de Pearson Comparar com correlação linear para detectar não-linearidade | • Transformações para linearizar relações Métodos não paramétricos Expansão polinomial | • Modelos lineares podem perder informação importante Necessidade de modelagem não-linear | Comum em sistemas biológicos, ecológicos e relações complexas |
| **Correlação Serial** | • Teste Durbin-Watson Função de autocorrelação (ACF) Função de autocorrelação parcial (PACF) | • DW próximo de 2 (sem correlação) DW < 1 ou > 3 (forte correlação) ACF/PACF fora das bandas de confiança | • Diferenciação Modelagem ARIMA Inclusão de lags como preditores GLS (Mínimos Quadrados Generalizados) | • Erro padrão subestimado Inferência inválida Previsões ineficientes | Típica em séries temporais e dados espaciais |
| **Multicolinearidade** | • Fator de Inflação da Variância (VIF) Autovalores da matriz de correlação Índice de condição | • VIF > 10 (problemático) VIF > 5 (preocupante) Índice de condição > 30 (severa) | • Regularização (Ridge, Lasso) Análise de Componentes Principais (PCA) Seleção stepwise Remoção de variáveis | • Instabilidade nos coeficientes Erros padrão elevados Sensibilidade a pequenas mudanças nos dados | Diferente da correlação simples; afeta o conjunto de preditores |
| **Colinearidade Perfeita** | • Determinante da matriz X'X = 0 Erro de inversão de matriz Rank deficiente | • Correlação exata (r = 1 ou r = -1) Autovalor zero | • Remoção de uma das variáveis Redefinição de variáveis Combinação de variáveis | • Impossibilidade de estimar o modelo Erro na inversão da matriz | Geralmente causada por erro na construção de variáveis ou dummy trap |
| **Colinearidade estrutural** | • Análise de VIF por grupos Exame de relações teóricas | • VIF por grupo elevado Padrões de correlação em blocos | • Análise em dois estágios Modelagem hierárquica Indicadores latentes | • Dificuldade de interpretação Confusão entre efeitos | Ocorre quando variáveis medem aspectos relacionados do mesmo construto |
| **Correlação Espúria** | • Análise de variáveis confundidoras Teste com variáveis de controle Análise causal | • Mudança na correlação após controle Testes de robustez | • Inclusão de controles Métodos de pareamento Variáveis instrumentais Análise de mediação | • Conclusões errôneas Relações falsas Modelos não generalizáveis | Não representa relação causal; comum quando há tendência temporal compartilhada |
| **Correlação entre Variáveis Categóricas** | • V de Cramer Coeficiente Phi Tabelas de contingência Teste qui-quadrado | • V > 0.25 (forte) p-valor significativo no teste qui-quadrado | • Encoding específico Combinação de categorias Análise de correspondência | • Problemas com dummies Superrepresentação de categorias | Requer métodos específicos diferentes dos usados para variáveis contínuas |
| **Correlação com Variável Target** | • Information Value (IV) Mutual Information Coeficiente Ponto-Bisserial ANOVA | • IV > 0.3 (forte) IV < 0.02 (fraca) | • Seleção baseada em correlação Métodos wrapper Importância em modelos de árvore | • Feature irrelevante diminui performance Correlação não significa causalidade | Fundamental para feature selection; diferente de colinearidade entre preditores |
| **Correlação Não-Estacionária** | • Correlação em janelas móveis Teste de estabilidade de parâmetros Cointegração | • Mudanças significativas ao longo do tempo | • Modelagem com parâmetros variáveis Segmentação temporal Modelos de mudança de regime | • Instabilidade na previsão Quebra estrutural Parâmetros variáveis no tempo | Comum em finanças e macroeconomia; exige modelagem dinâmica |
| **Multicolinearidade em Alta Dimensão** | • Elastic Net Random Forest importance Lasso path | • Padrão de seleção instável Importância diluída entre features | • Regularização Métodos ensemble Seleção recursiva Agrupamento de features | • Curse of dimensionality Overfitting Seleção instável | Problemática em dados com muitas features em relação ao número de observações |
| **Heteroscedasticidade Induzida por Correlação** | • Teste Breusch-Pagan Gráfico de resíduos vs. valores ajustados Teste de White | • Padrão em formato de cone nos resíduos p-valor significativo nos testes | • Transformação de variáveis Erros padrão robustos Modelos ponderados (WLS) | • Estimação ineficiente Inferência distorcida Previsões subótimas | A correlação pode induzir padrões de variância não constante |
| **Interações e Efeitos Não-Aditivos** | • Partial dependence plots Testes de interação Random Forest | • Melhoria significativa do modelo com interações Padrões não lineares em PDPs | • Inclusão de termos de interação Modelos não paramétricos GAM (Modelos Aditivos Generalizados) | • Omissão de interações leva a sub-especificação Excesso de interações causa overfitting | A correlação pode mascarar interações importantes entre variáveis |
| **Multicolinearidade entre Dados Longitudinais** | • VIF específico para dados em painel Decomposição de variância Testes de Hausman | • Componentes intra e entre grupos | • Modelos de efeitos fixos/aleatórios Diferenciação Transformação within | • Confusão entre efeitos temporais e cross-section Viés de variável omitida | Requer métodos específicos para dados em painel |
| **Correlação Espacial** | • Índice de Moran Estatística Geary's C Variograma LISA maps | • Índice de Moran > 0 (positiva) Geary < 1 (positiva) | • Modelos espaciais (SAR, SEM) Geographically Weighted Regression Kriging | • Viés nos coeficientes Subestimação dos erros padrão Autocorrelação residual | Típica em dados geográficos; requer ferramentas específicas |